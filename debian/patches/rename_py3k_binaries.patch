Description: <short summary of the patch>
 TODO: Put a short summary on the line above and replace this paragraph
 with a longer explanation of this change. Complete the meta-information
 with other relevant fields (see below for details). To make it easier, the
 information below has been extracted from the changelog. Adjust it or drop
 it.
 .
 jupyter-core (4.1.0-1) UNRELEASED; urgency=medium
 .
   * Initial release. (Closes: #XXXXXX)
Author: David Douard <david.douard@logilab.fr>

---
The information above should follow the Patch Tagging Guidelines, please
checkout http://dep.debian.net/deps/dep3/ to learn about the format. Here
are templates for supplementary fields that you might want to add:

Origin: <vendor|upstream|other>, <url of original patch>
Bug: <url in upstream bugtracker>
Bug-Debian: https://bugs.debian.org/<bugnumber>
Bug-Ubuntu: https://launchpad.net/bugs/<bugnumber>
Forwarded: <no|not-needed|url proving that it has been forwarded>
Reviewed-By: <name and email of someone who approved the patch>
Last-Update: <YYYY-MM-DD>

Index: jupyter_core/setup.py
===================================================================
--- jupyter_core.orig/setup.py
+++ jupyter_core/setup.py
@@ -74,8 +74,7 @@ setup_args = dict(
     ],
 )
 
-if any(arg.startswith('bdist') for arg in sys.argv):
-    import setuptools
+import setuptools
 
 setuptools_args = {}
 
@@ -83,11 +82,14 @@ setuptools_args['install_requires'] = [
     'traitlets',
 ]
 
+cliversion = ''
+if sys.version_info[0] > 2:
+    cliversion = '3'
 setuptools_args['entry_points'] = {
     'console_scripts': [
-        'jupyter = jupyter_core.command:main',
-        'jupyter-migrate = jupyter_core.migrate:main',
-        'jupyter-troubleshoot = jupyter_core.troubleshoot:main',
+        'jupyter{0} = jupyter_core.command:main'.format(cliversion),
+        'jupyter{0}-migrate = jupyter_core.migrate:main'.format(cliversion),
+        'jupyter{0}-troubleshoot = jupyter_core.troubleshoot:main'.format(cliversion),
     ]
 }
 
